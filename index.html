<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Datacard Numérique CIET (Recto/Verso)</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
    
    <!-- Fichiers CSS modularisés -->
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="layout.css">
    <link rel="stylesheet" href="bloc-core.css">
    <link rel="stylesheet" href="bloc-positions.css">
    <link rel="stylesheet" href="bloc-ui.css">
    <link rel="stylesheet" href="tables.css">
    <link rel="stylesheet" href="global-ui.css">
    <link rel="stylesheet" href="resize.css">
    <link rel="stylesheet" href="print.css">

    <link rel="manifest" href="manifest.json">
    <!-- Balises PWA pour iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Datacard CIET">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <!-- Favicon standard -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

</head>
<body>
    <div class="global-actions no-print">
        <button id="printDatacardBtn">Imprimer / PDF</button>
        <button id="exportAllBtn">Exporter Tout (JSON)</button>
        <label class="button-like-label" for="importAllInput">Importer Tout (JSON)</label>
        <input type="file" id="importAllInput" accept=".json" style="display:none;">
        <button id="clearAllBtn">Vider Datacard</button>
        <button id="saveLocallyBtn">Sauvegarder Localement</button>
        <button id="loadLocalBtn">Charger Sauvegarde Locale</button>
        <div class="page-toggle">
            <button id="showRectoBtn" class="active">Afficher Recto</button>
            <button id="showVersoBtn">Afficher Verso</button>
            <button id="showBothBtn">Afficher Tout</button>
        </div>
    </div>

    <div class="datacard-viewer">
        <!-- PAGE 1 / RECTO -->
        <div class="a4-paysage page" id="pageRecto">
            <div class="page-identifier no-print">RECTO</div>
            <span class="pliage-indic"></span>
            <!-- Volet Gauche RECTO -->
            <div class="a5-volet" id="voletGaucheRecto">
                <!-- Les blocs du volet gauche du RECTO seront injectés ici par JavaScript -->
            </div>
            <!-- Volet Droit RECTO -->
            <div class="a5-volet" id="voletDroitRecto">
                <!-- Les blocs du volet droit du RECTO seront injectés ici par JavaScript -->
            </div>
            <div class="classification-footer" contenteditable="true">CLASSIFICATION :</div>
        </div>

        <!-- PAGE 2 / VERSO -->
        <div class="a4-paysage page" id="pageVerso" style="display:none;"> <!-- Caché par défaut -->
            <div class="page-identifier no-print">VERSO</div>
            <span class="pliage-indic"></span>
            <!-- Volet Gauche VERSO -->
            <div class="a5-volet" id="voletGaucheVerso">
                <!-- Blocs du volet gauche du VERSO seront injectés ici par JavaScript -->
            </div>
            <!-- Volet Droit VERSO -->
            <div class="a5-volet" id="voletDroitVerso">
                <!-- Blocs du volet droit du VERSO seront injectés ici par JavaScript -->
            </div>
            <div class="classification-footer" contenteditable="true">CLASSIFICATION :</div>
        </div>
    </div>

    <div id="notification-area" class="no-print"></div>

    <!-- ==== TEMPLATES HTML POUR LES BLOCS SONT MAINTENANT DANS DES FICHIERS SÉPARÉS ==== -->
    <!-- Ils seront chargés dynamiquement par JavaScript -->

    <script src="app.js" type="module"></script>
</body>
</html>